<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.8.7">Jekyll</generator><link href="https://feliperezende.github.com/feed.xml" rel="self" type="application/atom+xml" /><link href="https://feliperezende.github.com/" rel="alternate" type="text/html" /><updated>2020-09-29T17:09:51-03:00</updated><id>https://feliperezende.github.com/feed.xml</id><title type="html">Knowledge base</title><subtitle>Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.</subtitle><author><name>Felipe Rezende</name></author><entry><title type="html">Removing files older than 30 days</title><link href="https://feliperezende.github.com/linux/shell/2020/09/29/linux-removing-files-older-than-x-days.html" rel="alternate" type="text/html" title="Removing files older than 30 days" /><published>2020-09-29T00:00:00-03:00</published><updated>2020-09-29T00:00:00-03:00</updated><id>https://feliperezende.github.com/linux/shell/2020/09/29/linux-removing-files-older-than-x-days</id><content type="html" xml:base="https://feliperezende.github.com/linux/shell/2020/09/29/linux-removing-files-older-than-x-days.html">&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;find /path/to/ &lt;span class=&quot;nt&quot;&gt;-type&lt;/span&gt; f &lt;span class=&quot;nt&quot;&gt;-mtime&lt;/span&gt; +30 &lt;span class=&quot;nt&quot;&gt;-name&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'*.mp4'&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-execdir&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;rm&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'{}'&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;find: the unix command for finding files/directories/links and etc.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;/path/to/: the directory to start your search in.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;-type f: only find files.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;-name ‘*.mp4’: list files that ends with .mp4.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;-mtime +30: only consider the ones with modification time older than 30 days.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;-execdir … \;: for each such result found, do the following command in ….&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;rm – ‘{}’: remove the file; the {} part is where the find result gets substituted into from the previous part.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;</content><author><name>Felipe Rezende</name></author><summary type="html">find /path/to/ -type f -mtime +30 -name '*.mp4' -execdir rm -- '{}' \;</summary></entry><entry><title type="html">Python: Creating a virtual environment</title><link href="https://feliperezende.github.com/python/venv/2020/07/16/virtual-environment-python.html" rel="alternate" type="text/html" title="Python: Creating a virtual environment" /><published>2020-07-16T00:00:00-03:00</published><updated>2020-07-16T00:00:00-03:00</updated><id>https://feliperezende.github.com/python/venv/2020/07/16/virtual-environment-python</id><content type="html" xml:base="https://feliperezende.github.com/python/venv/2020/07/16/virtual-environment-python.html">&lt;p&gt;virtualenv is used to manage Python packages for different projects. Using virtualenv allows you to avoid installing Python packages globally which could break system tools or other projects. You can install virtualenv using pip.&lt;/p&gt;

&lt;p&gt;Note: If you are using Python 3.3 or newer, the venv module is the preferred way to create and manage virtual environments. venv is included in the Python standard library and requires no additional installation.&lt;/p&gt;

&lt;h1 id=&quot;installing-virtualenv&quot;&gt;Installing virtualenv&lt;/h1&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;python3 &lt;span class=&quot;nt&quot;&gt;-m&lt;/span&gt; pip &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--user&lt;/span&gt; virtualenv&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h1 id=&quot;creating-a-virtual-environment&quot;&gt;Creating a virtual environment&lt;/h1&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;python3 &lt;span class=&quot;nt&quot;&gt;-m&lt;/span&gt; venv &lt;span class=&quot;nb&quot;&gt;env&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h1 id=&quot;activating-a-virtual-environment&quot;&gt;Activating a virtual environment&lt;/h1&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;&lt;span class=&quot;nb&quot;&gt;source env&lt;/span&gt;/bin/activate&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h1 id=&quot;leaving-the-virtual-environment&quot;&gt;Leaving the virtual environment&lt;/h1&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;deactivate&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Reference:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://packaging.python.org/guides/installing-using-pip-and-virtual-environments/&quot;&gt;python.org&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name>Felipe Rezende</name></author><summary type="html">virtualenv is used to manage Python packages for different projects. Using virtualenv allows you to avoid installing Python packages globally which could break system tools or other projects. You can install virtualenv using pip.</summary></entry><entry><title type="html">How do I redirect HTTP traffic to HTTPS on Apache</title><link href="https://feliperezende.github.com/apache/http/2020/07/13/redirect-http-traffic-to-https.html" rel="alternate" type="text/html" title="How do I redirect HTTP traffic to HTTPS on Apache" /><published>2020-07-13T18:00:00-03:00</published><updated>2020-07-13T18:00:00-03:00</updated><id>https://feliperezende.github.com/apache/http/2020/07/13/redirect-http-traffic-to-https</id><content type="html" xml:base="https://feliperezende.github.com/apache/http/2020/07/13/redirect-http-traffic-to-https.html">&lt;p&gt;Open your Apache configuration file. Possible locations include /etc/httpd/conf/httpd.conf (Apache 2/httpd), /etc/apache2/sites-enabled/ (Apache 2.4), or /etc/apache2/apache2.conf (Apache on Ubuntu).&lt;/p&gt;

&lt;p&gt;Add a rewrite rule to the VirtualHost section of your configuration file similar to the following:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-apache&quot; data-lang=&quot;apache&quot;&gt;&lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;VirtualHost&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt; *:80&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;
&lt;/span&gt;    &lt;span class=&quot;nc&quot;&gt;RewriteEngine&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;On&lt;/span&gt;
    &lt;span class=&quot;nc&quot;&gt;RewriteCond&lt;/span&gt; %{HTTP:X-Forwarded-Proto} =http
    &lt;span class=&quot;nc&quot;&gt;RewriteRule&lt;/span&gt; .* https://%{HTTP:Host}%{REQUEST_URI} [L,R=permanent]
&lt;span class=&quot;p&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;VirtualHost&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Save your Apache configuration file.&lt;/p&gt;

&lt;p&gt;Restart Apache.&lt;/p&gt;

&lt;p&gt;Reference:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://aws.amazon.com/premiumsupport/knowledge-center/redirect-http-https-elb/&quot;&gt;AWS&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name>Felipe Rezende</name></author><summary type="html">Open your Apache configuration file. Possible locations include /etc/httpd/conf/httpd.conf (Apache 2/httpd), /etc/apache2/sites-enabled/ (Apache 2.4), or /etc/apache2/apache2.conf (Apache on Ubuntu).</summary></entry><entry><title type="html">Installing ffmpeg on EC2</title><link href="https://feliperezende.github.com/ffmpeg/ec2/2020/07/07/ffmpeg-on-ec2.html" rel="alternate" type="text/html" title="Installing ffmpeg on EC2" /><published>2020-07-07T18:00:00-03:00</published><updated>2020-07-07T18:00:00-03:00</updated><id>https://feliperezende.github.com/ffmpeg/ec2/2020/07/07/ffmpeg-on-ec2</id><content type="html" xml:base="https://feliperezende.github.com/ffmpeg/ec2/2020/07/07/ffmpeg-on-ec2.html">&lt;p&gt;SSH into your instance and become root&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;su -&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Go to the the /usr/local/bin directory&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; /usr/local/bin&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Inside the /usr/local/bin directory, create an “ffmpeg” directory&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;mkdir &lt;/span&gt;ffmpeg&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Go into the new directory&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;ffmpeg&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Go to static build directory at http://ffmpeg.gusari.org/static/64bit/ and pick the latest version of FFMPEG.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;wget https://johnvansickle.com/ffmpeg/releases/ffmpeg-release-amd64-static.tar.xz&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;The file should now be in /usr/local/bin/ffmpeg. Untar it…&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;tar&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-xf&lt;/span&gt; ffmpeg-release-amd64-static.tar.xz &lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Move files&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;mv &lt;/span&gt;ffmpeg-release-amd64-static/&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; .&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;If you want to be able to execute FFMPEG from any directory, simply create a symlink into /usr/bin like this:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;ln&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-s&lt;/span&gt; /usr/local/bin/ffmpeg/ffmpeg /usr/bin/ffmpeg&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Now, you should be able to run the command “ffmpeg” from anywhere&lt;/p&gt;

&lt;p&gt;Reference:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://forums.aws.amazon.com/thread.jspa?messageID=332091&quot;&gt;nbcnc on AWS Forums&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://medium.com/@maskaravivek/how-to-install-ffmpeg-on-ec2-running-amazon-linux-451e4a8e2694&quot;&gt;Vivek Maskara on Medium&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name>Felipe Rezende</name></author><summary type="html">SSH into your instance and become root $ sudo su -</summary></entry><entry><title type="html">How to set Android TextView line spacing?</title><link href="https://feliperezende.github.com/android/sdk/textview/line/spacing/2020/04/27/android-textview-linespacing.html" rel="alternate" type="text/html" title="How to set Android TextView line spacing?" /><published>2020-04-27T18:00:00-03:00</published><updated>2020-04-27T18:00:00-03:00</updated><id>https://feliperezende.github.com/android/sdk/textview/line/spacing/2020/04/27/android-textview-linespacing</id><content type="html" xml:base="https://feliperezende.github.com/android/sdk/textview/line/spacing/2020/04/27/android-textview-linespacing.html">&lt;p&gt;You can use &lt;strong&gt;lineSpacingExtra&lt;/strong&gt; or &lt;strong&gt;lineSpacingMultiplier&lt;/strong&gt; in your XML file.&lt;/p&gt;

&lt;h2 id=&quot;example&quot;&gt;Example:&lt;/h2&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-xml&quot; data-lang=&quot;xml&quot;&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;TextView&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;android:layout_width=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;wrap_content&quot;&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;android:layout_height=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;wrap_content&quot;&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;android:lineSpacingMultiplier=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;0.7&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;More on &lt;a href=&quot;https://stackoverflow.com/questions/6863974/android-textview-padding-between-lines&quot;&gt;stackoverflow&lt;/a&gt;.&lt;/p&gt;</content><author><name>Felipe Rezende</name></author><summary type="html">You can use lineSpacingExtra or lineSpacingMultiplier in your XML file.</summary></entry><entry><title type="html">Ntfs Mountain Lion English</title><link href="https://feliperezende.github.com/lessons/2013/02/28/NTFS-Mountain-Lion-English.html" rel="alternate" type="text/html" title="Ntfs Mountain Lion English" /><published>2013-02-28T00:00:00-03:00</published><updated>2013-02-28T00:00:00-03:00</updated><id>https://feliperezende.github.com/lessons/2013/02/28/NTFS-Mountain-Lion-English</id><content type="html" xml:base="https://feliperezende.github.com/lessons/2013/02/28/NTFS-Mountain-Lion-English.html">&lt;p&gt;HOW TO: NFTS Read and write on Lion/Mountain Lion&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;install brew package manager. &lt;a href=&quot;http://mxcl.github.com/homebrew/&quot;&gt;http://mxcl.github.com/homebrew/&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;install the following packages.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;brew &lt;span class=&quot;nb&quot;&gt;install &lt;/span&gt;fuse4x
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;brew &lt;span class=&quot;nb&quot;&gt;install &lt;/span&gt;ntfs-3g&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;ol&gt;
  &lt;li&gt;copy the following file and set permissions.&lt;/li&gt;
&lt;/ol&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo cp&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-rfX&lt;/span&gt; /usr/local/Cellar/fuse4x-kext/0.8.14/Library/Extensions/fuse4x.kext /System/Library/Extensions
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo chmod&lt;/span&gt; +s /System/Library/Extensions/fuse4x.kext/Support/load_fuse4x&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;ol&gt;
  &lt;li&gt;backup the mount script.&lt;/li&gt;
&lt;/ol&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo mv&lt;/span&gt; /sbin/mount_ntfs /sbin/mount_ntfs.orig&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;ol&gt;
  &lt;li&gt;create a new mount script and set permissions.&lt;/li&gt;
&lt;/ol&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo touch&lt;/span&gt; /sbin/mount_ntfs
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo chmod &lt;/span&gt;0755 /sbin/mount_ntfs
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo chown &lt;/span&gt;0:0 /sbin/mount_ntfs
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;nano /sbin/mount_ntfs&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;ol&gt;
  &lt;li&gt;mount script content.&lt;/li&gt;
&lt;/ol&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;&lt;span class=&quot;c&quot;&gt;#!/bin/bash&lt;/span&gt;

&lt;span class=&quot;nv&quot;&gt;VOLUME_NAME&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;@&lt;/span&gt;:&lt;span class=&quot;nv&quot;&gt;$#}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;
VOLUME_NAME=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;VOLUME_NAME&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;#/Volumes/&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;
USER_ID=501
GROUP_ID=20
TIMEOUT=20

if [ &lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;/usr/bin/stat &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;%u&quot;&lt;/span&gt; /dev/console&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; -eq 0 ]; then
        USERNAME=&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;/usr/bin/defaults &lt;span class=&quot;nb&quot;&gt;read&lt;/span&gt; /library/preferences/com.apple.loginwindow | /usr/bin/grep autoLoginUser | /usr/bin/awk &lt;span class=&quot;s1&quot;&gt;'{ print $3 }'&lt;/span&gt; | /usr/bin/sed &lt;span class=&quot;s1&quot;&gt;'s/;//'&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;
        if [ &quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$USERNAME&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot; = &quot;&quot; ]; then
                until [ &lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;stat&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;%u&quot;&lt;/span&gt; /dev/console&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; -ne 0 ] || [ &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$TIMEOUT&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; -eq 0 ]; do
                        sleep 1
                        let TIMEOUT--
                done
                if [ &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$TIMEOUT&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; -ne 0 ]; then
                        USER_ID=&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;/usr/bin/stat &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;%u&quot;&lt;/span&gt; /dev/console&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;
                        GROUP_ID=&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;/usr/bin/stat &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;%g&quot;&lt;/span&gt; /dev/console&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;
                fi
        else
                USER_ID=&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;/usr/bin/id &lt;span class=&quot;nt&quot;&gt;-u&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$USERNAME&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;
                GROUP_ID=&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;/usr/bin/id &lt;span class=&quot;nt&quot;&gt;-g&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$USERNAME&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;
        fi
else
        USER_ID=&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;/usr/bin/stat &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;%u&quot;&lt;/span&gt; /dev/console&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;
        GROUP_ID=&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;/usr/bin/stat &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;%g&quot;&lt;/span&gt; /dev/console&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;
fi

/usr/local/bin/ntfs-3g &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;
        -o volname=&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;VOLUME_NAME&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot; &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;
        -o local &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;
        -o noappledouble &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;
        -o negative_vncache &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;
        -o auto_xattr &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;
        -o auto_cache &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;
        -o noatime &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;
        -o windows_names &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;
        -o user_xattr &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;
        -o inherit &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;
        -o uid=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$USER_ID&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;
        -o gid=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$GROUP_ID&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;
        -o allow_other &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;
        &quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$@&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot; &amp;amp;&amp;gt; /var/log/ntfsmnt.log

exit &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$?&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;References:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;a href=&quot;http://psionides.eu/2011/11/20/how-to-fix-ntfs-support-on-osx-lion/&quot;&gt;http://psionides.eu/2011/11/20/how-to-fix-ntfs-support-on-osx-lion/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://fernandoff.posterous.com/ntfs-write-support-on-osx-lion-with-ntfs-3g-f&quot;&gt;http://fernandoff.posterous.com/ntfs-write-support-on-osx-lion-with-ntfs-3g-f&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;</content><author><name>Felipe Rezende</name></author><category term="lessons" /><category term="osx" /><category term="tutorial" /><category term="ntfs" /><summary type="html">HOW TO: NFTS Read and write on Lion/Mountain Lion</summary></entry></feed>